List:
  description: Contains all SQL queries related to user-created game lists and their items.
  queries:

  ####### Query list #######
    - name: GetAllListsByUser
      description: Retrieve all lists created by a specific user.
      path: lists/get_all_by_user
      access: [admin, user]
      parameters:
        - name: "@UserId"
          type: string
          required: true
      result:
        type: DataTable
        returnsMany: true
        columns:
          - name: list_id
            type: string
          - name: title
            type: string
          - name: description
            type: string
          - name: is_public
            type: boolean

    - name: GetListById
      description: Retrieve a list by its ID.
      path: lists/get_list_by_id
      access: [admin, user]
      parameters:
        - name: "@ListId"
          type: string
          required: true
      result:
        type: DataTable
        returnsMany: false
        columns:
          - name: list_id
            type: string
          - name: title
            type: string
          - name: description
            type: string
          - name: is_public
            type: boolean

    - name: GetListItems
      description: Retrieve all games in a specific list.
      path: lists/get_list_items
      access: [admin, user, guest]
      parameters:
        - name: "@ListId"
          type: string
          required: true
      result:
        type: DataTable
        returnsMany: true
        columns:
          - name: game_id
            type: string
          - name: title
            type: string
          - name: notes
            type: string
          - name: added_at
            type: datetime

  ####### Non-query list #######
    - name: CreateList
      description: Create a new custom list.
      path: lists/create_list
      access: [user]
      parameters:
        - name: "@UserId"
          type: string
          required: true
        - name: "@Title"
          type: string
          required: true
        - name: "@Description"
          type: string
        - name: "@IsPublic"
          type: boolean
      result:
        type: affected_rows
        datatype: int

    - name: AddGameToList
      description: Add a game to a specific list.
      path: lists/add_game_to_list
      access: [user]
      parameters:
        - name: "@ListId"
          type: string
          required: true
        - name: "@GameId"
          type: string
          required: true
        - name: "@Notes"
          type: string
      result:
        type: affected_rows
        datatype: int

    - name: RemoveGameFromList
      description: Remove a game from a specific list.
      path: lists/remove_game_from_list
      access: [user]
      parameters:
        - name: "@ListId"
          type: string
          required: true
        - name: "@GameId"
          type: string
          required: true
      result:
        type: affected_rows
        datatype: int

    - name: DeleteList
      description: Delete an entire list.
      path: lists/delete_list
      access: [user, admin]
      parameters:
        - name: "@ListId"
          type: string
          required: true
      result:
        type: affected_rows
        datatype: int

  ####### Scalar #######
    - name: CountListsByUser
      description: Count total number of lists created by a user.
      path: lists/count_lists_by_user
      access: [admin, user]
      parameters:
        - name: "@UserId"
          type: string
          required: true
      result:
        type: scalar
        datatype: int
