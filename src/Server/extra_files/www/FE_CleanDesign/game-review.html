<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elden Ring Review - Kontroller</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body class="bg-gray-900 text-white min-h-screen">
    <!-- Back Button Bar -->
    <div class="bg-gray-800 border-b border-gray-700 py-2 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6">
            <button onclick="window.location.href='game-detail.html'" class="flex items-center space-x-2 text-gray-400 hover:text-white">
                <i class="fas fa-arrow-left"></i>
                <span>Back</span>
            </button>
        </div>
    </div>

    <!-- Main Toolbar -->
    <header class="bg-gray-800 border-b border-gray-700">
        <div class="max-w-7xl mx-auto px-4 py-4">
            <!-- Top Bar with Avatar, Username and Search -->
            <div class="flex items-center justify-between mb-4">
                <!-- Left side: Avatar and Username -->
                <div class="flex items-center space-x-3">
                    <img src="https://via.placeholder.com/50x50" alt="Avatar"
                        class="w-12 h-12 rounded-full border-2 border-blue-500">
                    <div>
                        <h2 class="text-lg font-bold text-white">Username</h2>
                        <div class="flex items-center space-x-2 text-sm text-gray-300">
                            <a href="#" class="hover:text-blue-400"><i class="fab fa-facebook"></i></a>
                            <a href="#" class="hover:text-blue-400"><i class="fab fa-discord"></i></a>
                        </div>
                    </div>
                </div>

                <!-- Right side: Search -->
                <div class="flex items-center space-x-4 w-full">
                    <div class="relative ml-auto w-64 max-[520px]:w-full max-[520px]:max-w-[520px]">
                        <input type="text" placeholder="Search for games"
                            class="w-full bg-gray-700 text-white px-4 py-2 pr-10 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none" />
                        <i class="fas fa-search absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Review Content -->
    <main class="max-w-4xl mx-auto px-6 py-8">
        <!-- Review Card -->
        <div class="bg-gray-800 rounded-lg p-8 shadow-xl">
            <div class="flex flex-col lg:flex-row lg:space-x-8">
                <!-- Left Side - Game Poster -->
                <div class="flex-shrink-0 mb-6 lg:mb-0">
                    <a href="game-detail.html" class="block hover:opacity-80 transition-opacity">
                        <img src="https://images.unsplash.com/photo-1542751371-adc38448a05e?w=200&h=300&fit=crop"
                            alt="Elden Ring" class="w-48 h-72 rounded-lg shadow-lg mx-auto lg:mx-0">
                    </a>
                </div>

                <!-- Right Side - Review Content -->
                <div class="flex-1">
                    <!-- Header -->
                    <div class="mb-6">
                        <!-- User Info -->
                        <div class="flex items-center space-x-4 mb-4">
                            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=50&h=50&fit=crop&crop=face"
                                alt="John Doe" class="w-12 h-12 rounded-full">
                            <div>
                                <h2 class="font-semibold text-lg">John Doe</h2>
                                <p class="text-gray-400 text-sm">March 15, 2024</p>
                            </div>
                        </div>

                        <!-- Game Title and Rating -->
                        <div class="mb-4">
                            <h1 class="text-3xl font-bold mb-2">Elden Ring</h1>
                            <div class="flex items-center space-x-4">
                                <div class="flex items-center space-x-2">
                                    <div class="flex text-green-400 text-xl">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                                <span class="text-gray-400">â€¢</span>
                                <span class="text-gray-400">2022</span>
                            </div>
                        </div>
                    </div>

                    <!-- Review Text -->
                    <div class="mb-6">
                        <div class="prose prose-lg text-gray-300 max-w-none">
                            <p class="mb-4">
                                Elden Ring is nothing short of a masterpiece that represents the pinnacle of
                                FromSoftware's creative vision.
                                This open-world souls-like experience manages to retain everything that made the Dark
                                Souls series beloved while
                                expanding the formula in ways that feel both natural and revolutionary.
                            </p>

                            <p class="mb-4">
                                The world design is simply breathtaking. The Lands Between feels like a living,
                                breathing world filled with
                                secrets, mysteries, and stories told through environmental storytelling. Every corner of
                                this massive world
                                has been crafted with incredible attention to detail, from the towering spires of
                                Stormveil Castle to the
                                ethereal beauty of the Eternal City of Nokron.
                            </p>

                            <p class="mb-4">
                                Combat remains challenging and rewarding, with a diverse array of weapons, spells, and
                                abilities that allow
                                for numerous playstyles. The addition of the horse, Torrent, fundamentally changes how
                                you approach exploration
                                and even some boss battles, adding a new layer of mobility and strategy.
                            </p>

                            <p class="mb-4">
                                What truly sets Elden Ring apart is how it respects the player's time and curiosity.
                                Unlike previous FromSoftware
                                titles, if you're stuck on a particular boss or area, you can simply explore elsewhere
                                and return stronger.
                                This design philosophy makes the game more accessible without compromising its
                                challenging nature.
                            </p>

                            <p>
                                Elden Ring is a game that will be remembered for years to come. It's a testament to what
                                happens when
                                visionary game design meets masterful world-building. This is essential gaming.
                            </p>
                        </div>
                    </div>

                    <!-- Actions -->
                    <div class="flex items-center justify-between pt-6 border-t border-gray-700">
                        <!-- Reaction Buttons -->
                        <div class="flex items-center space-x-4" id="main-reactions">
                            <button data-reaction="like" class="reaction-btn flex items-center space-x-2 text-gray-400 hover:text-blue-400 transition-colors">
                                <i class="fas fa-thumbs-up text-lg"></i>
                                <span class="font-semibold reaction-count">87</span>
                            </button>
                            <button data-reaction="heart" class="reaction-btn flex items-center space-x-2 text-gray-400 hover:text-red-400 transition-colors">
                                <i class="fas fa-heart text-lg"></i>
                                <span class="font-semibold reaction-count">24</span>
                            </button>
                            <button data-reaction="sad" class="reaction-btn flex items-center space-x-2 text-gray-400 hover:text-yellow-400 transition-colors">
                                <i class="far fa-frown text-lg"></i>
                                <span class="font-semibold reaction-count">5</span>
                            </button>
                            <button data-reaction="laugh" class="reaction-btn flex items-center space-x-2 text-gray-400 hover:text-yellow-400 transition-colors">
                                <i class="far fa-laugh text-lg"></i>
                                <span class="font-semibold reaction-count">12</span>
                            </button>
                        </div>

                        <!-- Copy Link Button -->
                        <button id="copyLinkBtn" class="text-gray-400 hover:text-blue-400 transition-colors">
                            <i class="fas fa-copy text-lg"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comments Section -->
        <div class="mt-8 bg-gray-800 rounded-lg p-6">
            <h3 class="text-xl font-bold mb-6">Comments</h3>

            <!-- Comment Form -->
            <div class="mb-6">
                <div class="flex items-start space-x-4">
                    <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face"
                        alt="Your Avatar" class="w-10 h-10 rounded-full">
                    <div class="flex-1">
                        <textarea placeholder="Write a comment..."
                            class="w-full bg-gray-700 text-white rounded-lg p-3 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"
                            rows="3"></textarea>
                        <div class="flex justify-end mt-2">
                            <button
                                class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium">
                                Post Comment
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Comments List -->
            <div class="space-y-4" id="game-review">
                <!-- Comment Item -->
                <div class="flex items-start space-x-4">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face"
                        alt="Sarah Wilson" class="w-10 h-10 rounded-full">
                    <div class="flex-1">
                        <div class="bg-gray-700 rounded-lg p-4">
                            <div class="flex items-center space-x-2 mb-2">
                                <h4 class="font-semibold text-sm">Sarah Wilson</h4>
                                <span class="text-gray-400 text-xs">2 days ago</span>
                            </div>
                            <p class="text-gray-300 text-sm">
                                Absolutely agree with your review! The world design is incredible and I love how they
                                managed to keep the challenging nature while making it more accessible.
                            </p>
                        </div>
                        <div class="flex items-center space-x-4 mt-2 comment-reactions" data-comment="comment1">
                            <button data-reaction="like" class="comment-reaction-btn flex items-center space-x-1 text-gray-400 hover:text-blue-400 text-sm">
                                <i class="fas fa-thumbs-up"></i>
                                <span class="reaction-count">5</span>
                            </button>
                            <button data-reaction="heart" class="comment-reaction-btn flex items-center space-x-1 text-gray-400 hover:text-red-400 text-sm">
                                <i class="fas fa-heart"></i>
                                <span class="reaction-count">3</span>
                            </button>
                            <button data-reaction="sad" class="comment-reaction-btn flex items-center space-x-1 text-gray-400 hover:text-yellow-400 text-sm">
                                <i class="far fa-frown"></i>
                                <span class="reaction-count">1</span>
                            </button>
                            <button data-reaction="laugh" class="comment-reaction-btn flex items-center space-x-1 text-gray-400 hover:text-yellow-400 text-sm">
                                <i class="far fa-laugh"></i>
                                <span class="reaction-count">2</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Comment Item -->
                <div class="flex items-start space-x-4">
                    <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=40&h=40&fit=crop&crop=face"
                        alt="Mike Chen" class="w-10 h-10 rounded-full">
                    <div class="flex-1">
                        <div class="bg-gray-700 rounded-lg p-4">
                            <div class="flex items-center space-x-2 mb-2">
                                <h4 class="font-semibold text-sm">Mike Chen</h4>
                                <span class="text-gray-400 text-xs">1 day ago</span>
                            </div>
                            <p class="text-gray-300 text-sm">
                                Great review! I'm still working my way through it but so far it's been an amazing
                                experience. The boss fights are epic!
                            </p>
                        </div>
                        <div class="flex items-center space-x-4 mt-2 comment-reactions" data-comment="comment2">
                            <button data-reaction="like" class="comment-reaction-btn flex items-center space-x-1 text-gray-400 hover:text-blue-400 text-sm">
                                <i class="fas fa-thumbs-up"></i>
                                <span class="reaction-count">3</span>
                            </button>
                            <button data-reaction="heart" class="comment-reaction-btn flex items-center space-x-1 text-gray-400 hover:text-red-400 text-sm">
                                <i class="fas fa-heart"></i>
                                <span class="reaction-count">2</span>
                            </button>
                            <button data-reaction="sad" class="comment-reaction-btn flex items-center space-x-1 text-gray-400 hover:text-yellow-400 text-sm">
                                <i class="far fa-frown"></i>
                                <span class="reaction-count">0</span>
                            </button>
                            <button data-reaction="laugh" class="comment-reaction-btn flex items-center space-x-1 text-gray-400 hover:text-yellow-400 text-sm">
                                <i class="far fa-laugh"></i>
                                <span class="reaction-count">1</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Track user reactions
        let userReactions = {
            main: {
                like: false,
                heart: false,
                sad: false,
                laugh: false
            },
            comment1: {
                like: false,
                heart: false,
                sad: false,
                laugh: false
            },
            comment2: {
                like: false,
                heart: false,
                sad: false,
                laugh: false
            }
        };

        // Reaction data for popup
        const reactionData = {
            like: [
                { name: 'John Doe', avatar: 'https://via.placeholder.com/40x40' },
                { name: 'Sarah Wilson', avatar: 'https://via.placeholder.com/40x40' },
                { name: 'Current User', avatar: 'https://via.placeholder.com/40x40' }
            ],
            heart: [
                { name: 'Mike Chen', avatar: 'https://via.placeholder.com/40x40' },
                { name: 'Emma Davis', avatar: 'https://via.placeholder.com/40x40' }
            ],
            sad: [
                { name: 'Tom Brown', avatar: 'https://via.placeholder.com/40x40' }
            ],
            laugh: [
                { name: 'Anna Lee', avatar: 'https://via.placeholder.com/40x40' },
                { name: 'Peter Smith', avatar: 'https://via.placeholder.com/40x40' }
            ]
        };

        // Handle main review reactions
        document.querySelectorAll('#main-reactions .reaction-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                
                const reactionType = this.dataset.reaction;
                const countSpan = this.querySelector('.reaction-count');
                let currentCount = parseInt(countSpan.textContent);
                
                // Toggle reaction
                if (userReactions.main[reactionType]) {
                    userReactions.main[reactionType] = false;
                    currentCount--;
                    this.classList.remove('text-blue-400', 'text-red-400', 'text-yellow-400');
                    this.classList.add('text-gray-400');
                } else {
                    userReactions.main[reactionType] = true;
                    currentCount++;
                    this.classList.remove('text-gray-400');
                    
                    switch(reactionType) {
                        case 'like':
                            this.classList.add('text-blue-400');
                            break;
                        case 'heart':
                            this.classList.add('text-red-400');
                            break;
                        case 'sad':
                        case 'laugh':
                            this.classList.add('text-yellow-400');
                            break;
                    }
                }
                
                countSpan.textContent = currentCount;
                
                setTimeout(() => {
                    openReactionPopup(reactionType, currentCount);
                }, 200);
            });
        });

        // Handle comment reactions
        document.querySelectorAll('.comment-reaction-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                
                const reactionType = this.dataset.reaction;
                const commentId = this.closest('.comment-reactions').dataset.comment;
                const countSpan = this.querySelector('.reaction-count');
                let currentCount = parseInt(countSpan.textContent);
                
                if (userReactions[commentId][reactionType]) {
                    userReactions[commentId][reactionType] = false;
                    currentCount--;
                    this.classList.remove('text-blue-400', 'text-red-400', 'text-yellow-400');
                    this.classList.add('text-gray-400');
                } else {
                    userReactions[commentId][reactionType] = true;
                    currentCount++;
                    this.classList.remove('text-gray-400');
                    
                    switch(reactionType) {
                        case 'like':
                            this.classList.add('text-blue-400');
                            break;
                        case 'heart':
                            this.classList.add('text-red-400');
                            break;
                        case 'sad':
                        case 'laugh':
                            this.classList.add('text-yellow-400');
                            break;
                    }
                }
                
                countSpan.textContent = currentCount;
                
                setTimeout(() => {
                    openReactionPopup(reactionType, currentCount);
                }, 200);
            });
        });

        // Reaction Popup
        function openReactionPopup(type, count) {
            const existingPopup = document.getElementById('reactionPopup');
            if (existingPopup) {
                existingPopup.remove();
            }

            const reactionList = document.createElement('div');
            reactionList.id = 'reactionPopup';
            reactionList.className = 'fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50';
            reactionList.innerHTML = `
                <div class="bg-gray-900 text-white rounded-lg shadow-xl w-full max-w-md p-6 relative space-y-6">
                    <div class="flex justify-between items-center">
                        <h2 class="text-xl font-bold">${type.charAt(0).toUpperCase() + type.slice(1)} Reactions (${count})</h2>
                        <button onclick="closeReactionPopup()" class="text-blue-400 hover:text-blue-300 font-semibold">Close</button>
                    </div>
                    <div class="space-y-4 max-h-80 overflow-y-auto" id="reactionList"></div>
                </div>
            `;
            document.body.appendChild(reactionList);

            const list = document.getElementById('reactionList');
            const people = reactionData[type] || [];
            
            if (people.length === 0) {
                list.innerHTML = '<p class="text-gray-400 text-center">No reactions yet</p>';
            } else {
                people.forEach(person => {
                    const div = document.createElement('div');
                    div.className = 'flex items-center space-x-4';
                    div.innerHTML = `
                        <img src="${person.avatar}" alt="User Avatar" class="w-10 h-10 rounded-full"> 
                        <p class="font-semibold">${person.name}</p>
                    `;
                    list.appendChild(div);
                });
            }

            reactionList.addEventListener('click', function(e) {
                if (e.target === reactionList) {
                    closeReactionPopup();
                }
            });
        }

        function closeReactionPopup() {
            const popup = document.getElementById('reactionPopup');
            if (popup) popup.remove();
        }

        // Copy Link Functionality
        const copyLinkBtn = document.getElementById('copyLinkBtn');
        copyLinkBtn.addEventListener('click', () => {
            navigator.clipboard.writeText(window.location.href).then(() => {
                const message = document.createElement('div');
                message.id = 'copyMessage';
                message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg z-50';
                message.textContent = 'Copy link successfully';
                document.body.appendChild(message);

                setTimeout(() => {
                    message.remove();
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy link:', err);
            });
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeReactionPopup();
            }
        });
    </script>
</body>

</html>